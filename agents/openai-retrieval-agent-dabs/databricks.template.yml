bundle:
  name: retrieval-agent-mcp

variables:
  catalog:
    description: Unity Catalog name
    default: main
  schema:
    description: Schema name
    default: default
  vs_endpoint:
    description: Vector Search endpoint name
    default: retrieval-agent-vs-endpoint
  run_as_service_principal:
    description: "Service Principal application ID for run_as"
    default: ""

include:
  - resources/*.job.yml

resources:
  experiments:
    retrieval_agent_experiment:
      name: /Shared/experiments/retrieval-agent-mcp

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://YOUR_WORKSPACE.cloud.databricks.com
    run_as:
      service_principal_name: ${var.run_as_service_principal}
    # Optional: override variables for dev
    # variables:
    #   catalog: dev_catalog

  prod:
    mode: production
    workspace:
      host: https://YOUR_WORKSPACE.cloud.databricks.com
    run_as:
      service_principal_name: ${var.run_as_service_principal}
    # Optional: override variables for prod
    # variables:
    #   catalog: prod_catalog
